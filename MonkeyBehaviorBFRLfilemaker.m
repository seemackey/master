function [a, lowest] = MonkeyBehaviorBFRLfilemaker(BF,BFtonelevel,Noise,Mod,NoiseMod)%This program generates 4 files to create bf rate level function;
% One contains Tone frequencies, one contains tone levels,
% the third contains noise levels, which are set to zero.
% the fourth contains modulation frequencies to study temporal sensitivity.

clear freq tlvl nlvl modf;

bf = BF;
switch BFtonelevel
    case 1
        return
    case 2 
        bftonelevels = [0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 3
        bftonelevels = [0 0 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498];
        lowest=.0000353;
    case 4
        bftonelevels= [0 0 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079];
        lowest=.0000498;   
    case 5
        bftonelevels= [0 0 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112];
        lowest=.000079;
    case 6
        bftonelevels= [0 0 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158];
        lowest=.000112;
    case 7
        bftonelevels= [0 0 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025];
        lowest=.000158;
    case 8
        bftonelevels= [0 0 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 .079];
        lowest=.00025;
    case 9
        bftonelevels= [0 0 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 .079 .25];
        lowest=.000353;
    case 10
        bftonelevels= [0 0 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 .079 .25 .79];
        lowest=.000498;
    case 11
        bftonelevels= [0 0 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 .079 .25 .79];
        lowest=.00079;
    case 12
        bftonelevels= [0 0 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 .0353 .0498 .079 .25 .79];
        lowest=.00112;
    case 13
        bftonelevels= [0 0 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 .0353 .0498 .079 .25 .79];
        lowest=.00158;
    case 14
        bftonelevels= [0 0 .0025 .00353 .00498 .0079 .0112 .0158 .025 .0353 .0498 .079 .25 .79];
        lowest=.0025;
    case 42
        bftonelevels= [0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025];
        lowest=.000025;
    case 52 
        bftonelevels = [0  .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 53 
        bftonelevels = [0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 54 
        bftonelevels = [0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 55
        bftonelevels = [0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 56
        bftonelevels = [0 0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 57 
        bftonelevels = [0 0 0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 58
        bftonelevels = [0 0 0 0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 59
        bftonelevels = [0 0 0 0 0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 60 
        bftonelevels = [0 0 0 0 0 0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    case 61
        bftonelevels = [0 0 0 0 0 0 0 0 0 0 .000025 .0000353 .0000498 .000079 .000112 .000158 .00025 .000353 .000498 .00079 .00112 .00158 .0025 .00353 .00498 .0079 .0112 .0158 .025]; % 0 .000025 .000079 .00025 .0004446 .00079 .001405 .0025 0 .004446 .0079 .01405 .025 .079 .25 .25 .79 .79
        lowest=.000025;
    otherwise
end
if NoiseMod==1
    modnoise=10;
else modnoise=0;
end

noiselevel=Noise;
modfreq=Mod; % modulation frequency of tone
fid1=fopen('c:\TDT\OpenEx\Examples\AutoTuner\AutoTuner2\Userfiles\FreqList.txt','wt');
fid2=fopen('c:\TDT\OpenEx\Examples\AutoTuner\AutoTuner2\Userfiles\LevlList.txt','wt');
fid3=fopen('c:\TDT\OpenEx\Examples\AutoTuner\AutoTuner2\Userfiles\NlvlList.txt','wt');
fid4=fopen('C:\TDT\OpenEx\Examples\AutoTuner\AutoTuner2\UserFiles\ModfList.txt','wt');
%fid5=fopen('C:\TDT\OpenEx\Examples\AutoTuner\AutoTuner2\UserFiles\ModNList.txt','wt');
for numreps=1:15, 
   randint=randperm(length(bftonelevels));
   bftonelevels2=bftonelevels(randint);
    for bftlevels=1:length(bftonelevels),
        freq((numreps-1)*length(bftonelevels)+bftlevels)= bf;
        tlvl((numreps-1)*length(bftonelevels)+bftlevels)= bftonelevels2(bftlevels);
        nlvl((numreps-1)*length(bftonelevels)+bftlevels)=noiselevel;
        modf((numreps-1)*length(bftonelevels)+bftlevels)=modfreq;
       % modn((numreps-1)*length(bftonelevels)+bftlevels)=modnoise;
    end
end

if NoiseMod==1
    index=find(tlvl==0);
    freq(index(1))=12321;  %sets the frequency of the first occurrence of a catch trial to identifiable number. 
end
a= length(freq);
fprintf(fid1,'%g\n',freq);
fprintf(fid2,'%g\n',tlvl);
fprintf(fid3,'%g\n',nlvl);
fprintf(fid4,'%g\n',modf);
%fprintf(fid5,'%g\n',modn);

fclose all;
